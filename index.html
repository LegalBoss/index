<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Confronta Immagini con PE CINE SUSTII?</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
      background: linear-gradient(to bottom, #444, #000);
      color: white;
    }
    h1 {
      margin-bottom: 30px;
    }
    .container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      margin-bottom: 20px;
      align-items: center;
    }
    .image-box {
      margin: 20px;
      border: 1px solid #888;
      padding: 10px;
      border-radius: 10px;
      background: #222;
    }
    .main-img {
      width: 120px;
    }
    .small-img {
      width: 80px;
    }
    img {
      height: auto;
      display: block;
      margin: 10px auto;
    }
    .controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }
    button {
      font-size: 18px;
      padding: 5px 10px;
      background-color: #555;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #777;
    }
    .score {
      font-size: 24px;
      width: 50px;
      text-align: center;
    }
    input[type="file"] {
      margin: 10px 0;
      color: white;
    }
    #resetBtn {
      margin-top: 20px;
      font-size: 18px;
      padding: 10px 20px;
      background-color: #e74c3c;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #resetBtn:hover {
      background-color: #c0392b;
    }
    .disclaimer-inline {
      max-width: 220px;
      font-size: 14px;
      line-height: 1.4;
      margin: 0 10px;
      background: #111;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #666;
    }
    canvas#fireworksCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
    }
  </style>
</head>
<body>

<h1 contenteditable="true" spellcheck="false" style="outline: none;">Scrivi qui il titolo</h1>


<!-- Immagini principali -->
<div class="container">
  <div class="image-box">
    <input type="file" accept="image/*" onchange="loadImage(event, 0)">
    <img id="img0" class="main-img" src="https://via.placeholder.com/120x90.png?text=Immagine+1" alt="Immagine 1">
  </div>

  <div class="disclaimer-inline">
    <strong>DISCLAIMER:</strong><br>
    Acest sondaj este doar <br> pentru divertisment. <br>
    Nu este un sondaj oficial si<br> nu are legatura cu alegerile reale. <br>
    Donatiile sunt pentru <br>sustinerea creatorului si <br> nu reprezinta sprijin financiar<br>
    pentru niciun candidat sau partid politic.
  </div>

  <div class="image-box">
    <input type="file" accept="image/*" onchange="loadImage(event, 1)">
    <img id="img1" class="main-img" src="https://via.placeholder.com/120x90.png?text=Immagine+2" alt="Immagine 2">
  </div>
</div>

<!-- Punteggi -->
<div class="container">
  <div class="controls">
    <button onclick="changeScore(0, -1)">–</button>
    <div id="score0" class="score">0</div>
    <button onclick="changeScore(0, 1)">+</button>
  </div>

  <button id="resetBtn" onclick="resetScores()">Reset</button>

  <div class="controls">
    <button onclick="changeScore(1, -1)">–</button>
    <div id="score1" class="score">0</div>
    <button onclick="changeScore(1, 1)">+</button>
  </div>
</div>

<!-- Immagini piccole -->
<div class="container">
  <div class="image-box">
    <input type="file" accept="image/*" onchange="loadImage(event, 2)">
    <img id="img2" class="small-img" src="https://via.placeholder.com/80x60.png?text=Piccola+1" alt="Piccola 1">
  </div>

  <div class="image-box">
    <input type="file" accept="image/*" onchange="loadImage(event, 3)">
    <img id="img3" class="small-img" src="https://via.placeholder.com/80x60.png?text=Piccola+2" alt="Piccola 2">
  </div>
</div>

<!-- Canvas per i fuochi d'artificio -->
<canvas id="fireworksCanvas"></canvas>

<script>
  let scores = [0, 0];
  const canvas = document.getElementById('fireworksCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  class Firework {
    constructor(x, y, color) {
      this.particles = [];
      for (let i = 0; i < 100; i++) {
        this.particles.push({
          x: x,
          y: y,
          angle: Math.random() * 2 * Math.PI,
          speed: Math.random() * 5 + 2,
          radius: Math.random() * 3 + 1,
          alpha: 1,
          color: color
        });
      }
    }

    update() {
      this.particles.forEach(p => {
        p.x += Math.cos(p.angle) * p.speed;
        p.y += Math.sin(p.angle) * p.speed;
        p.alpha -= 0.01;
      });
      this.particles = this.particles.filter(p => p.alpha > 0);
    }

    draw(ctx) {
      this.particles.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI);
        ctx.fillStyle = `rgba(${p.color},${p.alpha})`;
        ctx.fill();
      });
    }
  }

  let fireworks = [];

  function launchFireworks() {
    for (let i = 0; i < 5; i++) {
      const x = Math.random() * canvas.width;
      const y = Math.random() * canvas.height / 2;
      const color = `${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)}`;
      fireworks.push(new Firework(x, y, color));
    }
  }

  function animateFireworks() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    fireworks.forEach(f => {
      f.update();
      f.draw(ctx);
    });
    fireworks = fireworks.filter(f => f.particles.length > 0);
    if (fireworks.length > 0) {
      requestAnimationFrame(animateFireworks);
    }
  }

  function changeScore(index, delta) {
    scores[index] += delta;
    document.getElementById('score' + index).textContent = scores[index];

    if (scores[index] === 1000) {
      launchFireworks();
      animateFireworks();
    }
  }

  function loadImage(event, index) {
    const reader = new FileReader();
    reader.onload = function() {
      document.getElementById('img' + index).src = reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  }

  function resetScores() {
    scores = [0, 0];
    document.getElementById('score0').textContent = '0';
    document.getElementById('score1').textContent = '0';
  }

  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });
</script>

</body>
</html>
